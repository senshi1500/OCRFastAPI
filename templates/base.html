<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Mi Aplicaci칩n{% endblock %}</title>
    <link rel="stylesheet" href="/static/reset.css">
    <link rel="stylesheet" href="/static/styles.css">
    {% block head %}{% endblock %}
</head>
<body>
<div class="wrapper">
    <header>
        <div class="toggle-switch">
            <label class="switch-label">
                <input type="checkbox" class="checkbox" id="theme-toggle">
                <span class="slider"></span>
            </label>
        </div>
        <div class="language-selector">
            <label for="language">Idioma:</label>
            <select id="language" name="language">
                <option value="es">Espa침ol</option>
                <option value="en">English</option>
            </select>
        </div>
    </header>
    <div id="content">{% block content %}{% endblock %}</div>
    <footer>
        <div class="lang es">
            <p>Este es solo un proyecto de prueba para mostrar en mi portafolio.</p>
        </div>
        <div class="lang en" style="display: none;">
            <p>This is just a test project for show in my portafolio.</p>
        </div>
    </footer>
    {% block scripts %}

    {% endblock %}

</div>
<script>
    // Funci칩n para cambiar el tema
    const toggleSwitch = document.getElementById('theme-toggle');

    // Verificar el estado del tema al cargar la p치gina
    if (localStorage.getItem('dark-mode') === 'enabled') {
        document.body.classList.add('dark-mode');
        toggleSwitch.checked = true; // Mantener el checkbox marcado
    }

    // Agregar un evento al checkbox
    toggleSwitch.addEventListener('change', function() {
        if (this.checked) {
            document.body.classList.add('dark-mode');
            localStorage.setItem('dark-mode', 'enabled'); // Guardar el estado en localStorage
        } else {
            document.body.classList.remove('dark-mode');
            localStorage.setItem('dark-mode', 'disabled'); // Guardar el estado en localStorage
        }
    });

    const languageSelector = document.getElementById('language');
    const contentDivs = document.querySelectorAll('#content .lang');

    languageSelector.addEventListener('change', function() {
        const selectedLanguage = this.value;

        contentDivs.forEach(div => {
            if (div.classList.contains(selectedLanguage)) {
                div.style.display = 'block'; // Mostrar el contenido del idioma seleccionado
            } else {
                div.style.display = 'none'; // Ocultar el contenido de otros idiomas
            }
        });
    });
</script>
</body>
</html>