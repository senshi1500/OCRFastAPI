<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}My Application{% endblock %}</title>
    <link rel="stylesheet" href="/static/reset.css">
    <link rel="stylesheet" href="/static/styles.css">
    {% block head %}{% endblock %}
</head>
<body>
<div class="wrapper">
    <header>
        <div class="toggle-switch">
            <label class="switch-label">
                <input type="checkbox" class="checkbox" id="theme-toggle">
                <span class="slider"></span>
            </label>
        </div>
        <div class="language-selector">
            <label for="language">Language:</label>
            <select id="language" name="language">
                <option value="es">Espa√±ol</option>
                <option value="en" selected>English</option>
            </select>
        </div>
    </header>
    <div id="content">{% block content %}{% endblock %}</div>
    <footer>
        <div>
            <p>This is just a test project for show in my portafolio.</p>
        </div>
    </footer>
    {% block scripts %}{% endblock %}
</div>
<script>
    // Function to change the theme
    const toggleSwitch = document.getElementById('theme-toggle');

    // Check the theme status on page load
    if (localStorage.getItem('dark-mode') === 'enabled') {
        document.body.classList.add('dark-mode');
        toggleSwitch.checked = true; // Keep the checkbox checked
    }

    // Add an event to the checkbox
    toggleSwitch.addEventListener('change', function() {
        if (this.checked) {
            document.body.classList.add('dark-mode');
            localStorage.setItem('dark-mode', 'enabled'); // Save the state in localStorage
        } else {
            document.body.classList.remove('dark-mode');
            localStorage.setItem('dark-mode', 'disabled'); // Save the state in localStorage
        }
    });

    // Handle language change
    const languageSelector = document.getElementById('language');

    languageSelector.addEventListener('change', function() {
        const selectedLanguage = this.value;
        // Redirect to the same page with the selected language
        window.location.href = `/?lang_html=${selectedLanguage}`;
    });
</script>
</body>
</html>